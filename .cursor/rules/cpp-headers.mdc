---
description: Always include necessary C++ headers explicitly
globs: ["**/*.cpp", "**/*.hpp", "**/*.h"]
alwaysApply: true
---

# C++ Header Include Requirements

**Always include all necessary standard library headers explicitly.** Do not rely on transitive includes from other headers, as this varies between compilers and platforms.

## Required Headers by Type

| Type/Function | Required Header |
|---------------|-----------------|
| `std::atomic` | `<atomic>` |
| `std::thread` | `<thread>` |
| `std::mutex`, `std::lock_guard` | `<mutex>` |
| `std::condition_variable` | `<condition_variable>` |
| `std::vector` | `<vector>` |
| `std::string` | `<string>` |
| `std::map`, `std::unordered_map` | `<map>`, `<unordered_map>` |
| `std::set`, `std::unordered_set` | `<set>`, `<unordered_set>` |
| `std::shared_ptr`, `std::unique_ptr` | `<memory>` |
| `std::function` | `<functional>` |
| `std::chrono` | `<chrono>` |
| `std::filesystem` | `<filesystem>` |
| `std::optional` | `<optional>` |
| `std::variant` | `<variant>` |
| `std::memset`, `std::memcpy` | `<cstring>` |
| `std::size_t` | `<cstddef>` |
| `std::uint8_t`, `std::int64_t` | `<cstdint>` |
| `std::fstream`, `std::ifstream` | `<fstream>` |
| `std::ostringstream` | `<sstream>` |
| `std::algorithm` functions | `<algorithm>` |
| `std::numeric_limits` | `<limits>` |

## Example

```cpp
// BAD: Relying on transitive includes
#include <gtest/gtest.h>
// std::atomic may or may not be available

// GOOD: Explicit includes
#include <gtest/gtest.h>

#include <atomic>
#include <chrono>
#include <cstring>
#include <memory>
#include <string>
#include <thread>
#include <vector>
```

## Include Order Convention

1. Main header (for .cpp files)
2. C system headers (`<cstring>`, `<cstdint>`)
3. C++ standard library headers
4. Third-party library headers
5. Project headers

Separate each group with a blank line.
