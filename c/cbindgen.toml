# cbindgen configuration for Axon Lance FFI

language = "C"

# Enable C++ compatibility (adds extern "C" guards)
cpp_compat = true

# Header configuration
header = """/*
 * Axon Lance Bridge - C FFI Interface
 * Auto-generated by cbindgen. Do not edit directly.
 *
 * This header provides the C interface to the Axon Lance writer,
 * which writes ROS data to Lance format for efficient storage and querying.
 *
 * https://github.com/archebase/axon
 */

/* Non-null pointer hint (used by static analyzers) */
#ifndef AXON_NONNULL
#define AXON_NONNULL
#endif

/* Arrow FFI types (Arrow C Data Interface) */
struct ArrowSchema;
struct ArrowArray;

/* Type aliases matching Rust arrow::ffi naming */
typedef struct ArrowSchema FFI_ArrowSchema;
typedef struct ArrowArray FFI_ArrowArray;
"""

include_guard = "AXON_LANCE_BRIDGE_H"
tab_width = 4
style = "both"

# Include standard headers
sys_includes = ["stdarg.h", "stdbool.h", "stddef.h", "stdint.h", "stdlib.h"]
includes = ["stdint.h"]

# Type definitions
[defines]
"feature = ffi" = ""

[export]
include = ["AXON_LANCE_.*", "LANCE_.*"]
exclude = []
prefix = ""
item_types = ["constants", "functions"]

[export.rename]

[fn]
rename_args = "None"
args = "auto"
sort_by = "None"

[struct]
rename_fields = "None"
derive_eq = true
derive_neq = true
derive_lt = false
derive_lte = false
derive_gt = false
derive_gte = false

[enum]
rename_variants = "None"
add_sentinel = false
prefix_with_name = false
derive_helper_methods = false
derive_const_casts = false
derive_mut_casts = false
cast_assert_name = "assert"
must_use = ""

[const]
allow_static_const = true
allow_constexpr = false

[macro_expansion]
bitflags = false
